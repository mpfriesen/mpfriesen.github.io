<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
   <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.typekit.net/ltb2sic.css">
    <link rel="stylesheet" href="css/main.css">
    <title>Mark Friesen</title>
    <style>
      .detail-item h2 { margin-bottom: 0 }
      .detail-date { margin-bottom: 5px; font-style:italic; }
      .outlet { font-size: 10px; text-transform: uppercase; margin-top: 10px; }
      h5 { margin-top: 0; }
    </style>
  </head>
  <body>
    <div class="lede"></div>
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h1><span>MARK FRIESEN</span></h1>
            </div>
        </div>
        <div class="port-contain">
            <div class="desc">
                <div class="row">
                    <div class="port-item col-12">Journalism <span class="gray">|</span> Cartography <span class="gray">|</span> Data visualization</div>
                </div>
            </div>
            <div class="portfolio"></div>
        </div>
        <div class="social"><a href="resume.html">RESUME</a> <span class="gray">|</span> <a href="https://twitter.com/mfriesen">TWITTER</a> <span class="gray">|</span> <a href="https://github.com/mpfriesen/">GITHUB</a> <span class="gray">|</span> <a href="https://www.linkedin.com/in/mfriesen/">LINKEDIN</a></div>
    </div>
    <div class="popup"></div>
    <script>
        $.getJSON("portfolio.json", function(result){
            var block = "";
            var rows = "";
            $.each(result, function(i, field){
                if (i%3==0) {
                    block += "<div class='row'>";
                }
                block += "<div data-id='"+field.id+"' class='port-item col-sm-4'>"
                    + "<div class='port-img'>"
                    + "<img src='images/"+field.img_slug+"_thumb.png' >"
                    + "</div>"
                    + "<div class='outlet'>"+field.outlet+"</div>"
                    + "<h5>"+field.headline+"</h5>"
                + "</div>";
                if ((i+1)%3==0) {
                    block += "</div>";
                }
            });
            $(".portfolio").html(block);

            $(".port-item").click(function() {
                $(".container").css({"opacity":".3"});
                var id = $(this).data("id")-1;
                var item = result[id];
                var detail_link = "<div class='detail-link'><strong><a target='_blank' href='"+item.link+"'>&raquo; "+item.linkhead+" <i class='fas fa-link'></i></a></strong></div>";
                if (item.link2) {
                  detail_link += "<div class='detail-link'><strong><a target='_blank' href='"+item.link2+"'>&raquo; "+item.link2head+" <i class='fas fa-link'></i></a></strong></div>"
                }
                var popblock = "<div class='row'>"
                    + "<div class='detail-item col-12'>"
                    +   "<div class='close-contain'><span class='close-it'><i class='fas fa-times-circle'></i> CLOSE</span></div>"
                    +   "<div class='detail-img'>"
                    +       "<img src='images/"+item.img_slug+"_main.png' >"
                    +   "</div>"
                    +   "<div class='detail-cat'>"+item.category+"</div>"
                    +   "<h2>"+item.headline+"</h2>"
                    +   "<div class='detail-date'>"+item.published+"</div>"
                    +   "<div class='detail-desc'>"+item.desc+"</div>"
                    +   "<div class='detail-tools'><strong>Tools:</strong> "+item.tools+"</div>"
                    +   detail_link
                    +   "</div>"
                    + "</div>"
                
                
                
                
                
                ;
                window.scrollTo(0, 0);
                $(".popup").html(popblock).show();
                
                
            })
            $(".popup").click(function() {
                $(".container").css({"opacity":"inherit"});
                $(".popup").hide().html("");
            })




           
        });        
        
        
        
        
        
        
        
        
    </script>

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    
    
    
    
  </body>
</html>